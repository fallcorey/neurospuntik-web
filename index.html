<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroSputnik üß†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            max-width: 100%;
            margin: 0 auto;
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
        .header {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
        }

        .header h1 {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .tabs {
            display: flex;
            background: rgba(0, 0, 0, 0.3);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tab {
            flex: 1;
            min-width: 80px;
            padding: 15px 10px;
            background: none;
            border: none;
            color: white;
            font-size: 0.9em;
            cursor: pointer;
            white-space: nowrap;
        }

        .tab.active {
            background: rgba(255, 255, 255, 0.2);
            border-bottom: 3px solid white;
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
        .tab-content {
            flex: 1;
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .tab-content.active {
            display: flex;
        }

        /* –ß–∞—Ç */
        .messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .message {
            max-width: 85%;
            padding: 12px 15px;
            border-radius: 18px;
            font-size: 0.95em;
            line-height: 1.4;
            word-wrap: break-word;
        }

        .user-message {
            align-self: flex-end;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            border-bottom-right-radius: 5px;
        }

        .neuro-message {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.15);
            border-bottom-left-radius: 5px;
        }

        /* –í–≤–æ–¥ */
        .input-area {
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            display: flex;
            gap: 10px;
            align-items: center;
        }

        #messageInput {
            flex: 1;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            color: white;
            font-size: 16px;
            -webkit-appearance: none;
        }

        #messageInput::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .send-btn {
            padding: 12px 20px;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            font-size: 0.9em;
        }

        /* –û–±—É—á–µ–Ω–∏–µ */
        .training-content {
            padding: 20px;
            flex: 1;
            overflow-y: auto;
        }

        .upload-area {
            background: rgba(255, 255, 255, 0.1);
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
        }

        .knowledge-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
        .settings-content {
            padding: 20px;
            flex: 1;
            overflow-y: auto;
        }

        .setting-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.3s ease;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.3em;
            }
            
            .tab {
                padding: 12px 8px;
                font-size: 0.8em;
            }
            
            .message {
                max-width: 90%;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header">
            <h1>üß† NeuroSputnik</h1>
            <p>–í–∞—à AI —Å–ø—É—Ç–Ω–∏–∫</p>
        </div>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <div class="tabs">
            <button class="tab active" data-tab="chat">üí¨ –ß–∞—Ç</button>
            <button class="tab" data-tab="learn">üìö –û–±—É—á–µ–Ω–∏–µ</button>
            <button class="tab" data-tab="memory">üß† –ü–∞–º—è—Ç—å</button>
            <button class="tab" data-tab="settings">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>

        <!-- –ß–∞—Ç -->
        <div class="tab-content active" id="chat">
            <div class="messages" id="messages">
                <div class="message neuro-message fade-in">
                    <strong>NeuroSputnik:</strong> –ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π AI —Å–ø—É—Ç–Ω–∏–∫. –ì–æ—Ç–æ–≤ –∫ –æ–±—â–µ–Ω–∏—é –∏ –æ–±—É—á–µ–Ω–∏—é! üöÄ
                </div>
            </div>
            <div class="input-area">
                <input type="text" id="messageInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                <button class="send-btn" id="sendBtn">–û—Ç–ø—Ä</button>
            </div>
        </div>

        <!-- –û–±—É—á–µ–Ω–∏–µ -->
        <div class="tab-content" id="learn">
            <div class="training-content">
                <div class="upload-area">
                    <h3>üìÅ –î–æ–±–∞–≤—å—Ç–µ –∑–Ω–∞–Ω–∏—è</h3>
                    <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ–±—É—á–µ–Ω–∏—è</p>
                    <input type="file" id="fileInput" accept=".txt" style="display: none;">
                    <button class="send-btn" onclick="document.getElementById('fileInput').click()" style="margin-top: 15px;">
                        –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                    </button>
                </div>
                <div id="knowledgeList">
                    <!-- –°–ø–∏—Å–æ–∫ –∑–Ω–∞–Ω–∏–π -->
                </div>
            </div>
        </div>

        <!-- –ü–∞–º—è—Ç—å -->
        <div class="tab-content" id="memory">
            <div class="training-content">
                <div class="setting-card">
                    <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <p>–°–æ–æ–±—â–µ–Ω–∏–π: <span id="msgCount">1</span></p>
                    <p>–§–∞–π–ª–æ–≤: <span id="fileCount">0</span></p>
                    <p>–†–µ–∂–∏–º: <span id="currentMode">–û–±—ã—á–Ω—ã–π</span></p>
                </div>
            </div>
        </div>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div class="tab-content" id="settings">
            <div class="settings-content">
                <div class="setting-card">
                    <h3>üéØ –†–µ–∂–∏–º AI</h3>
                    <select id="aiMode" style="width: 100%; padding: 10px; border-radius: 10px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3); margin-top: 10px;">
                        <option value="smart">–£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫</option>
                        <option value="creative">–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π</option>
                        <option value="technical">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π</option>
                    </select>
                </div>

                <div class="setting-card">
                    <h3>üíæ –î–∞–Ω–Ω—ã–µ</h3>
                    <button class="send-btn" onclick="clearData()" style="width: 100%; margin: 5px 0; background: rgba(255,100,100,0.3);">
                        –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                    <button class="send-btn" onclick="exportData()" style="width: 100%; margin: 5px 0; background: rgba(100,255,100,0.3);">
                        –≠–∫—Å–ø–æ—Ä—Ç —á–∞—Ç–∞
                    </button>
                </div>

                <div class="setting-card">
                    <h3>‚ÑπÔ∏è –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h3>
                    <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.8;">
                        NeuroSputnik v1.0<br>
                        –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ<br>
                        –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ü—Ä–æ—Å—Ç–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
        class SimpleStorage {
            constructor() {
                this.messages = JSON.parse(localStorage.getItem('neuro_messages')) || [
                    { text: "–ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π AI —Å–ø—É—Ç–Ω–∏–∫. –ì–æ—Ç–æ–≤ –∫ –æ–±—â–µ–Ω–∏—é –∏ –æ–±—É—á–µ–Ω–∏—é! üöÄ", type: "neuro" }
                ];
                this.knowledge = JSON.parse(localStorage.getItem('neuro_knowledge')) || [];
                this.settings = JSON.parse(localStorage.getItem('neuro_settings')) || { mode: 'smart' };
            }

            saveMessages() {
                localStorage.setItem('neuro_messages', JSON.stringify(this.messages));
            }

            saveKnowledge() {
                localStorage.setItem('neuro_knowledge', JSON.stringify(this.knowledge));
            }

            saveSettings() {
                localStorage.setItem('neuro_settings', JSON.stringify(this.settings));
            }

            addMessage(text, type) {
                this.messages.push({ text, type, time: Date.now() });
                this.saveMessages();
            }

            addKnowledge(file) {
                this.knowledge.push(file);
                this.saveKnowledge();
            }
        }

        // –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        class NeuroApp {
            constructor() {
                this.storage = new SimpleStorage();
                this.currentTab = 'chat';
                this.init();
            }

            init() {
                this.loadMessages();
                this.loadKnowledge();
                this.setupEventListeners();
                this.updateStats();
            }

            setupEventListeners() {
                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        this.switchTab(e.target.dataset.tab);
                    });
                });

                // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
                document.getElementById('sendBtn').addEventListener('click', () => {
                    this.sendMessage();
                });

                document.getElementById('messageInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.sendMessage();
                    }
                });

                // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
                document.getElementById('fileInput').addEventListener('change', (e) => {
                    this.handleFileUpload(e.target.files[0]);
                });

                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                document.getElementById('aiMode').addEventListener('change', (e) => {
                    this.storage.settings.mode = e.target.value;
                    this.storage.saveSettings();
                });

                // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                if (this.storage.settings.mode) {
                    document.getElementById('aiMode').value = this.storage.settings.mode;
                }
            }

            switchTab(tabName) {
                this.currentTab = tabName;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.toggle('active', tab.dataset.tab === tabName);
                });
                
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.toggle('active', content.id === tabName);
                });
            }

            sendMessage() {
                const input = document.getElementById('messageInput');
                const message = input.value.trim();
                
                if (!message) return;
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                this.addMessage(message, 'user');
                input.value = '';
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç
                setTimeout(() => {
                    this.generateResponse(message);
                }, 500);
            }

            addMessage(text, type) {
                this.storage.addMessage(text, type);
                this.displayMessage(text, type);
                this.updateStats();
            }

            displayMessage(text, type) {
                const messagesDiv = document.getElementById('messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${type}-message fade-in`;
                messageDiv.innerHTML = `<strong>${type === 'user' ? '–í—ã' : 'NeuroSputnik'}:</strong> ${text}`;
                messagesDiv.appendChild(messageDiv);
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            }

            loadMessages() {
                this.storage.messages.forEach(msg => {
                    this.displayMessage(msg.text, msg.type);
                });
            }

            generateResponse(userMessage) {
                const response = this.createAIResponse(userMessage);
                this.addMessage(response, 'neuro');
            }

            createAIResponse(message) {
                const lowerMessage = message.toLowerCase();
                const mode = this.storage.settings.mode;

                // –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
                if (lowerMessage.includes('–ø—Ä–∏–≤–µ—Ç') || lowerMessage.includes('–∑–¥—Ä–∞–≤—Å—Ç–≤')) {
                    return '–ü—Ä–∏–≤–µ—Ç! –†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å? üöÄ';
                }

                if (lowerMessage.includes('–∫–∞–∫ –¥–µ–ª–∞')) {
                    return '–í—Å—ë –æ—Ç–ª–∏—á–Ω–æ! –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –∏ –∏–∑—É—á–µ–Ω–∏—é –Ω–æ–≤–æ–≥–æ!';
                }

                // –†–µ–∂–∏–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
                if (mode === 'creative') {
                    const creativeResponses = [
                        "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –î–∞–≤–∞–π –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —ç—Ç–æ —Å —Ç–≤–æ—Ä—á–µ—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã... üé®",
                        "–û! –û—Ç–ª–∏—á–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –∫—Ä–µ–∞—Ç–∏–≤–∞! –ß—Ç–æ –µ—Å–ª–∏... ‚ú®",
                        "–í–∫–ª—é—á–∞—é –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ! –ì–µ–Ω–µ—Ä–∏—Ä—É—é –∏–¥–µ–∏... üí°"
                    ];
                    return creativeResponses[Math.floor(Math.random() * creativeResponses.length)];
                }

                if (mode === 'technical') {
                    const techResponses = [
                        "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–æ–ø—Ä–æ—Å —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è... ‚öôÔ∏è",
                        "–° —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫... üîß",
                        "–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é –ø—Ä–æ–±–ª–µ–º—É —Å–∏—Å—Ç–µ–º–Ω–æ... üìä"
                    ];
                    return techResponses[Math.floor(Math.random() * techResponses.length)];
                }

                // –£–º–Ω—ã–π —Ä–µ–∂–∏–º
                if (lowerMessage.includes('—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å')) {
                    return '–Ø –º–æ–≥—É: –æ–±—â–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö, –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä—ã, –æ–±—É—á–∞—Ç—å—Å—è –Ω–∞ —Ç–≤–æ–∏—Ö —Ñ–∞–π–ª–∞—Ö! üìö';
                }

                if (lowerMessage.includes('–æ–±—É—á')) {
                    return '–ó–∞–≥—Ä—É–∑–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤–æ –≤–∫–ª–∞–¥–∫–µ "–û–±—É—á–µ–Ω–∏–µ" - —è –∏–∑—É—á—É –∏—Ö –∏ –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç–∞—Ö!';
                }

                // –ü–æ–∏—Å–∫ –≤ –∑–Ω–∞–Ω–∏—è—Ö
                const knowledgeResponse = this.searchInKnowledge(lowerMessage);
                if (knowledgeResponse) {
                    return `–ù–∞ –æ—Å–Ω–æ–≤–µ –∏–∑—É—á–µ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤: ${knowledgeResponse}`;
                }

                // –£–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
                if (lowerMessage.includes('?')) {
                    return '–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä–µ–º –µ–≥–æ –≤–º–µ—Å—Ç–µ. –ú–æ–∂–µ—à—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.';
                }

                if (lowerMessage.length > 50) {
                    return '–ü–æ–Ω–∏–º–∞—é —Ç–≤–æ—é –º—ã—Å–ª—å. –≠—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è!';
                }

                // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
                const defaultResponses = [
                    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –†–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ...",
                    "–ü–æ–Ω–∏–º–∞—é. –ß—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?",
                    "–•–æ—Ä–æ—à–∞—è —Ç–µ–º–∞! –î–∞–≤–∞–π –æ–±—Å—É–¥–∏–º –µ—ë –¥–µ—Ç–∞–ª—å–Ω–µ–µ.",
                    "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–æ–ø—Ä–æ—Å! –ò–∑—É—á–∞—é —Ç–µ–º—É..."
                ];

                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }

            searchInKnowledge(message) {
                for (const knowledge of this.storage.knowledge) {
                    if (knowledge.content && message.includes(knowledge.content.toLowerCase().substring(0, 10))) {
                        return knowledge.content.substring(0, 100) + '...';
                    }
                }
                return null;
            }

            async handleFileUpload(file) {
                if (!file) return;

                try {
                    const content = await this.readFileAsText(file);
                    
                    const knowledgeItem = {
                        name: file.name,
                        size: file.size,
                        type: file.type,
                        content: content.substring(0, 5000), // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä
                        uploaded: new Date().toLocaleDateString()
                    };

                    this.storage.addKnowledge(knowledgeItem);
                    this.loadKnowledge();
                    this.showAlert(`–§–∞–π–ª "${file.name}" —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!`);
                    
                } catch (error) {
                    this.showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞');
                }
            }

            readFileAsText(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = e => resolve(e.target.result);
                    reader.onerror = reject;
                    reader.readAsText(file);
                });
            }

            loadKnowledge() {
                const list = document.getElementById('knowledgeList');
                if (this.storage.knowledge.length === 0) {
                    list.innerHTML = '<div class="knowledge-item">–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤</div>';
                    return;
                }

                list.innerHTML = this.storage.knowledge.map(knowledge => `
                    <div class="knowledge-item">
                        <strong>${knowledge.name}</strong>
                        <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">
                            ${knowledge.size} –±–∞–π—Ç ¬∑ ${knowledge.uploaded}
                        </div>
                    </div>
                `).join('');
            }

            updateStats() {
                document.getElementById('msgCount').textContent = this.storage.messages.length;
                document.getElementById('fileCount').textContent = this.storage.knowledge.length;
                document.getElementById('currentMode').textContent = 
                    this.storage.settings.mode === 'smart' ? '–£–º–Ω—ã–π' :
                    this.storage.settings.mode === 'creative' ? '–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π' : '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π';
            }

            showAlert(message) {
                alert(message); // –ü—Ä–æ—Å—Ç–æ–π alert –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            }
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function clearData() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?')) {
                localStorage.clear();
                location.reload();
            }
        }

        function exportData() {
            const data = {
                messages: app.storage.messages,
                knowledge: app.storage.knowledge,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'neurospuntik-export.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            app.showAlert('–î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const app = new NeuroApp();
    </script>
</body>
</html>
